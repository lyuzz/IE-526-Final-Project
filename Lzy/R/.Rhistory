?read.delim2
install.packages(readxl)
install.packages("readxl")
# loading data
library(readxl)
?readxl
?read_excel
input_all <- read_excel("input_node.xlsx", sheet = "Customer_data")
View(input_all)
customer_data <- input_all[ , c(1,3,4,5,6)]
View(customer_data)
customer_data <- input_all[ -1, c(1,3,4,5,6)]
View(customer_data)
?sample
customer_sample <- sample(x = seq(length(customer_data$ID)), size = 50, replace = FALSE)
rm(customer_sample)
sample_ind <- sample(x = seq(length(customer_data$ID)), size = 50, replace = FALSE)
customer_sample <- customer_data[sample_ind, ]
View(customer_sample)
install.packages("xlsx")
R CMD javareconf -e
install.packages("xlsx")
# writing data to .xlsx file
library(xlsx)
?write.xlsx
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALSE)
?format
customer_sample [ , 4] <- format(customer_sample[ , 4], digits = 2, scientific = FALSE)
customer_sample[ , 4] <- format(customer_sample[ , 4], digits = 2, scientific = FALSE)
customer_sample$pack_total_weight <- format(customer_sample$pack_total_weight , digits = 2, scientific = FALSE)
customer_sample$pack_total_volume <- format(customer_sample$pack_total_volume , digits = 2, scientific = FALSE)
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALSE)
View(customer_sample)
format(customer_sample$pack_total_weight , digits = 2, scientific = FALSE)
?read_excel
customer_sample <- as.numeric(customer_data[sample_ind, ])
as.numeric(customer_sample)
?as. numeric
?as.numeric
lapply(customer_sample, as.numeric())
lapply(customer_sample, as.numeric
lapply(customer_sample, as.numeric)
lapply(customer_sample, as.double)
# sampling
set.seed(2)    # using seed 8
sample_ind <- sample(x = seq(length(customer_data$ID)), size = 50, replace = FALSE)
customer_sample <- customer_data[sample_ind, ]
customer_sample$pack_total_weight <- format(customer_sample$pack_total_weight , digits = 2, scientific = FALSE)
customer_sample$pack_total_volume <- format(customer_sample$pack_total_volume , digits = 2, scientific = FALSE)
lapply(customer_sample, as.double)
# sampling
set.seed(3)    # using seed 8
sample_ind <- sample(x = seq(length(customer_data$ID)), size = 50, replace = FALSE)
customer_sample <- customer_data[sample_ind, ]
lapply(customer_sample, as.double)
# sampling
set.seed(1)    # using seed 8
sample_ind <- sample(x = seq(length(customer_data$ID)), size = 50, replace = FALSE)
customer_sample <- customer_data[sample_ind, ]
lapply(customer_sample, as.double)
# sampling
set.seed(3)    # using seed 8
sample_ind <- sample(x = seq(length(customer_data$ID)), size = 50, replace = FALSE)
customer_sample <- customer_data[sample_ind, ]
lapply(customer_sample, as.double)
customer_sample <- lapply(customer_sample, as.double)
customer_sample$pack_total_weight <- format(customer_sample$pack_total_weight , digits = 2, scientific = FALSE)
customer_sample$pack_total_volume <- format(customer_sample$pack_total_volume , digits = 2, scientific = FALSE)
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALSE)
View(customer_data)
View(input_all)
library(readxl)
input_all <- read_excel("input_node.xlsx", sheet = "Customer_data")
# slicing
customer_data <- input_all[ -1, c(1,3,4,5,6)]
# sampling
set.seed(3)    # using seed 8
sample_ind <- sample(x = seq(length(customer_data$ID)), size = 50, replace = FALSE)
customer_sample <- customer_data[sample_ind, ]
customer_sample <- lapply(customer_sample, as.double)
customer_sample$pack_total_weight <- format(customer_sample$pack_total_weight , digits = 2, scientific = FALSE)
customer_sample$pack_total_volume <- format(customer_sample$pack_total_volume , digits = 2, scientific = FALSE)
# writing data to .xlsx file
library(xlsx)
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALSE)
# write .csv
write.csv2(customer_sample, "customer_sample.csv")
# sampling 50 customers from the original data.
# loading data
library(readxl)
input_all <- read_excel("input_node.xlsx", sheet = "Customer_data")
# slicing
customer_data <- input_all[ -1, c(1,3,4,5,6)]
# sampling
set.seed(3)    # using seed 3
sample_ind <- sample(x = seq(length(customer_data$ID)), size = 50, replace = FALSE)
customer_sample <- customer_data[sample_ind, ]
customer_sample <- lapply(customer_sample, as.double)
customer_sample$pack_total_weight <- as.double(format(customer_sample$pack_total_weight , digits = 2, scientific = FALSE))
customer_sample$pack_total_volume <- as.double(format(customer_sample$pack_total_volume , digits = 2, scientific = FALSE))
# writing data to .xlsx file
library(xlsx)
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALSE)
# write .csv
write.csv2(customer_sample, "customer_sample.csv")
test_data <- read.csv2("customer_sample.csv")
View(test_data)
View(customer_data)
View(customer_sample)
customer_sample <- as.data.frame(customer_data[sample_ind, ])
View(customer_sample)
customer_sample <- lapply(customer_sample, as.double)
customer_sample <- as.data.frame(customer_data[sample_ind, ])
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALSE)
# write .csv
write.csv2(customer_sample, "customer_sample.csv")
test_data <- read.csv2("customer_sample.csv")
View(test_data)
customer_sample <- as.data.frame(customer_data[sample_ind, ])
customer_sample <- as.data.frame(as.double(customer_data[sample_ind, ]))
View(customer_sample)
customer_sample <- customer_data[sample_ind, ]
View(customer_sample)
customer_sample <- as.double(customer_sample)
View(customer_sample)
typeof(customer_sample$lng[1])
typeof(customer_sample$pack_total_weight[1])
customer_sample$pack_total_weight <- lapply(customer_sample$pack_total_weight, as.double)
typeof(customer_sample$pack_total_weight[1])
typeof(customer_sample$pack_total_weight)
typeof(customer_sample$pack_total_weight[2])
# write .csv
write.csv2(customer_sample, "customer_sample.csv")
customer_sample$pack_total_weight <- as.double(customer_sample$pack_total_weight)
typeof(customer_sample$pack_total_weight[2])
View(customer_sample)
customer_sample$pack_total_volume <- as.double(customer_sample$pack_total_volume)
customer_sample$pack_total_volume <- as.double(customer_sample$pack_total_volume)
typeof(customer_sample$pack_total_volume[2])
# write .csv
write.csv2(customer_sample, "customer_sample.csv")
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALSE, row.names=FALSE)
# write .csv
write.csv2(customer_sample, "customer_sample.csv", row.names=FALSE)
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALS)
write.xlsx2(customer_sample, "customer_sample.xlsx", sheetName = "customer_sample", append=FALSE)
test_data <- read.csv2("customer_sample.csv")
View(test_data)
# read distance and time
dist_time <- read.delim2("input_distance-time.txt")
View(dist_time)
?read.delim2
# read distance and time
dist_time <- read.delim2("input_distance-time.txt", sep = ",")
View(dist_time)
dist_time_sample <- dist_time[FALSE, ]
View(dist_time_sample)
dist_time_sample <- dist_time[FALSE, -"ID"]
dist_time_sample <- dist_time[FALSE, -1]
?where
?which
?select.list
dist_time_sample <- dist_time[FALSE, -1]
for (from in customer_sample$ID){
append(dist_time_sample$from_node, from)
for (to in customer_sample$ID){
append(dist_time_sample$to_node, to)
ind <- which(dist_time_sample$from_node == from &
dist_time_sample$to_node == to)
dist <- dist_time_sample[ind, which(colnames(dist_time_sample)=="distance")]
append(dist_time_sample$distance, dist)
travel_time <- dist_time_sample[ind, which(names(dist_time_sample)=="distance")]
append(dist_time_sample$spend_tm, travel_time)
}
}
rm(ind)
rm(dist)
rm(travel_time)
View(dist_time_sample)
for (from in customer_sample$ID){
append(dist_time_sample$from_node, from)
for (to in customer_sample$ID){
append(dist_time_sample$to_node, to)
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
append(dist_time_sample$distance, dist)
travel_time <- dist_time[ind, which(names(dist_time)=="distance")]
append(dist_time_sample$spend_tm, travel_time)
}
}
rm(ind)
rm(dist)
rm(travel_time)
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="distance")]
print(c(from, to, dist, travel_time))
}
}
r <- 0
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
r <- r + 1
}
}
print(r)
rm(ind)
rm(dist)
rm(travel_time)
rm(c(from, to))
rm(from, to)
rm(from, to, ind, dist, travel_time)
dist_time <- read.delim2("input_distance-time.txt", sep = ",")
dist_time_sample <- dist_time[FALSE, -1]
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
row_to_add <- data.frame(from, to, dist, travel_time)
names(row_to_add) <- names(dist_time_sample)
dist_time_sample <- rbind(dist_time_sample, row_to_add)
rm(row_to_add)
}
}
rm(from, to, ind, dist, travel_time)
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
row_to_add <- as.data.frame(c(from, to, dist, travel_time))
names(row_to_add) <- names(dist_time_sample)
dist_time_sample <- rbind(dist_time_sample, row_to_add)
rm(row_to_add)
}
}
rm(from, to, ind, dist, travel_time)
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
row_to_add <- data.frame(from_node = from, to_node = to, distance = dist, spend_tm = travel_time)
dist_time_sample <- rbind(dist_time_sample, row_to_add)
rm(row_to_add)
}
}
rm(from, to, ind, dist, travel_time)
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
row_to_add <- as.data.frame(from_node = from, to_node = to, distance = dist, spend_tm = travel_time)
dist_time_sample <- rbind(dist_time_sample, row_to_add)
rm(row_to_add)
}
}
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
row_to_add <- data.frame(from_node = from, to_node = to, distance = dist, spend_tm = travel_time)
dist_time_sample <- rbind(dist_time_sample, row_to_add)
rm(row_to_add)
}
}
?data.frame
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
dist_time_sample <- rbind(dist_time_sample, c(from, to, travel_time))
}
}
rm(from, to, ind, dist, travel_time)
View(dist_time_sample)
dist_time_sample <- dist_time[FALSE, -1]
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(colnames(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
dist_time_sample <- rbind(dist_time_sample, c(from, to, dist, travel_time))
}
}
View(dist_time_sample)
dist_time_sample <- dist_time[FALSE, -1]
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(names(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
dist_time_sample <- rbind(dist_time_sample, c(from, to, dist, travel_time))
}
}
dist_time_sample <- dist_time[FALSE, -1]
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(names(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
if (is.na(dist) | is.na(travel_time)){
print("1")
}
dist_time_sample <- rbind(dist_time_sample, c(from, to, dist, travel_time))
}
}
dist_time_sample <- dist_time[FALSE, -1]
for (from in customer_sample$ID){
for (to in customer_sample$ID){
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(names(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
print(c(from, to, dist, travel_time))
dist_time_sample <- rbind(dist_time_sample, c(from, to, dist, travel_time))
}
}
dist_time_sample <- dist_time[FALSE, -1]
for (from in customer_sample$ID){
for (to in customer_sample$ID){
if(from = to){
next
}
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(names(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
dist_time_sample <- rbind(dist_time_sample, c(from, to, dist, travel_time))
}
}
dist_time_sample <- dist_time[FALSE, -1]
for (from in customer_sample$ID){
for (to in customer_sample$ID){
if(from == to){
next
}
ind <- which(dist_time$from_node == from & dist_time$to_node == to)
dist <- dist_time[ind, which(names(dist_time)=="distance")]
travel_time <- dist_time[ind, which(names(dist_time)=="spend_tm")]
dist_time_sample <- rbind(dist_time_sample, c(from, to, dist, travel_time))
}
}
names(dist_time_sample) <- c(from_node, to_node, distance, travel_time)
names(dist_time_sample) <- c("from_node", "to_node", "distance", "travel_time")
View(dist_time_sample)
